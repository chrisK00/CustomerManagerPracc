<nav class="navbar navbar-expand navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="">Customer Finder</a>
    <ul *ngIf="authService.currentCustomer$ | async" class="navbar-nav mr-auto">
        <li class="nav-item"> <a class="nav-link" routerLink="/errors">Errors</a></li>
        <li class="nav-item"> <a class="nav-link" routerLink="/members">Members</a></li>
    </ul>

    <ng-container *ngIf="(authService.currentCustomer$ | async) === null">
        <form class="text-light ml-5" (ngSubmit)="login()" #loginForm="ngForm">
            <label for="username">Username</label>
            <input [(ngModel)]="customer.username" required class="ml-2" type="text" name="username" id="username">
            <button type="submit" [disabled]="!loginForm.valid" class="btn ml-3 btn-outline-success">Login</button>
        </form>
    </ng-container>

    <button *ngIf="authService.currentCustomer$ | async" (click)="logout()" class="btn btn-danger mx-5">Logout</button>
</nav>
<!--
    Todo
    create a service  to store current user and use async pipe to check if authorized, 
    add interceptor for errors and sending the token,
    add auth guard
-->